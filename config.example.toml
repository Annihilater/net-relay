# Net-Relay Configuration Example
# Copy this file to config.toml and modify as needed

[server]
# Bind address for all services
host = "0.0.0.0"

# SOCKS5 proxy port
socks_port = 1080

# HTTP proxy port (CONNECT method)
http_port = 8080

# Web dashboard and API port
api_port = 3000

[logging]
# Log level: trace, debug, info, warn, error
level = "info"

# Log to file (optional)
# file = "/var/log/net-relay/proxy.log"

[dashboard]
# Enable authentication for the web dashboard
# When enabled, users must login to access the dashboard and API
auth_enabled = false

# Dashboard login credentials (required when auth_enabled = true)
# username = "admin"
# password = "your-secure-password"

[security]
# Enable authentication (recommended for production)
auth_enabled = false

# Multi-user authentication
# Define multiple users with individual settings
# 
# [[security.users]]
# username = "admin"
# password = "admin-secure-password"
# enabled = true
# description = "Administrator account"
# bandwidth_limit = 0       # 0 = unlimited (bytes per second)
# connection_limit = 0      # 0 = unlimited
# 
# [[security.users]]
# username = "user1"
# password = "user1-password"
# enabled = true
# description = "Regular user"
# bandwidth_limit = 10485760  # 10 MB/s
# connection_limit = 10
# 
# [[security.users]]
# username = "guest"
# password = "guest-password"
# enabled = false
# description = "Disabled guest account"

# Allowed client IPs (empty means allow all)
# allowed_ips = ["192.168.1.0/24", "10.0.0.0/8"]

[limits]
# Maximum concurrent connections
max_connections = 1000

# Connection timeout in seconds
timeout = 300

# Max idle time before closing connection
idle_timeout = 60

[stats]
# Enable statistics collection
enabled = true

# Statistics retention period in hours
retention_hours = 24

[access_control]
# Default mode: true = blacklist mode (allow all except blocked)
#               false = whitelist mode (block all except allowed)
allow_by_default = true

# IP blacklist - clients from these IPs will be denied
# ip_blacklist = ["192.168.1.100", "10.0.0.50"]

# IP whitelist - only these IPs are allowed (when allow_by_default = false)
# ip_whitelist = ["192.168.1.0/24", "10.0.0.0/8"]

# Domain/path access rules
# Each rule can block or allow specific domains and optional paths
# Wildcards supported: *.example.com, /api/*
# 
# Example rules:
# [[access_control.rules]]
# name = "Block social media"
# domain = "*.facebook.com"
# action = "block"
# enabled = true
# 
# [[access_control.rules]]
# name = "Block specific path"
# domain = "example.com"
# path = "/admin/*"
# action = "block"
# enabled = true
